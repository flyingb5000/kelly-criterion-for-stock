我想用以下的简化凯利公式策略来做一个美股仓位管理的UI,用Python写，一个UI py 文件，一个处理的py文件，一个json文件记录美股持仓

UI允许我添加我的美股股票以及仓位,持股股本和现金量。

UI 列表会列出我的股票及以下的一些指标，并根据指标以及公式推荐应该保持的理想仓位，是否加减仓

UI同时提供图表，会显示所选单个股票的走势图和MACD图(上下关系）

(1) 利用凯利公式推荐的每个个股的仓位比例 = (每个个股的上涨概率感官值 *0.5)/当前每个个股的vix波动率系数

上涨概率感官值可用以下数值：

突破前高+放量：概率值为60％

横盘震荡：概率值为50％

放量破位：概率值为40％

个股的vix系数可采用一下数值

vix <20 : 系数为1.0

Vix 介于20到30之间：系数为1.5

Vix 大于30：系数为2.0 (肥尾风险防御策略）

单股仓位少于25％， 现金余额要有30%

（2）另外再提供根据20日均线的个股持仓推荐比例：

股价在20日均线上方，可用15％仓位

股价在20日下方，仓位降至5％以下

股价在200日下方，仓位应该降至0

（3） 是否加仓： 个股MACD零轴以上金叉，加仓5％。零轴以下金叉加仓3％

（4）是否减仓：

- 如果单股单日波动大于5％,该股立即减仓50％ （黑天鹅融断机制）

- 任意个股跌破买入价3％立即止损，该股应全部卖出，持仓为0

- 如果个股盈利达到15％时至少卖出该股1/3仓位